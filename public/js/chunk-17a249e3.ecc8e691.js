(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17a249e3"],{"032b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-main"},[a("div",{staticClass:"setting-top"},[a("div",{staticClass:"top-title"},[t._m(0),a("Button",{staticClass:"title-refresh",attrs:{icon:"loop",loading:t.loading},on:{click:t.toLoading}},[t._v("刷新")])],1)]),a("div",{staticClass:"setting-data"},[a("Table",{ref:"selection",attrs:{loading:t.queryLoading,border:"",columns:t.columns,data:t.tableDatas,stripe:""},on:{"on-sort-change":t.sortChange}})],1),a("Modal",{attrs:{title:"修改充值配置",width:"580"},model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}},[a("Form",{ref:"editFormValidate",attrs:{model:t.editRow,"label-position":"right","label-width":120}},[a("FormItem",{attrs:{label:"pkid"}},[a("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:t.editRow.pkid,callback:function(e){t.$set(t.editRow,"pkid",e)},expression:"editRow.pkid"}})],1),a("FormItem",{attrs:{label:"请求地址"}},[a("Input",{staticStyle:{width:"360px"},model:{value:t.editRow.ChannelURL,callback:function(e){t.$set(t.editRow,"ChannelURL",e)},expression:"editRow.ChannelURL"}})],1),a("FormItem",{attrs:{label:"回调地址"}},[a("Input",{staticStyle:{width:"360px"},model:{value:t.editRow.ChannelCallbackURL,callback:function(e){t.$set(t.editRow,"ChannelCallbackURL",e)},expression:"editRow.ChannelCallbackURL"}})],1),a("FormItem",{attrs:{label:"商户名"}},[a("Input",{staticStyle:{width:"360px"},model:{value:t.editRow.MerchandID,callback:function(e){t.$set(t.editRow,"MerchandID",e)},expression:"editRow.MerchandID"}})],1)],1),a("div",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.toEdit}},[t._v("确定")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"title"},[a("span",{staticStyle:{background:"#1abc9c"}},[t._v(" ")]),t._v("\n                  充值功能配置\n            ")])}],s=a("cebc"),r=(a("96cf"),a("3b8d")),o=a("2708"),l={mixins:[o["a"]],components:{},data:function(){return{modal5:!1,loading:!1,showEdit:!1,editRow:{},queryLoading:!1,query:{},arrTitles:[],arrDatas:[],page:1,per_page:100,title:"",content:"",columns:[],tableDatas:[]}},computed:{},mounted:function(){this.init()},methods:{init:function(){this.page=1,this.per_page=30,this.queryList()},sortChange:function(t){this.query.order_by=t.key+" "+t.order,this.queryList()},queryList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,o,l,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,e=Object(s["a"])({},this.query),t.next=5,this.$store.dispatch("getRechargeChannel",e);case 5:for(a=t.sent,n=this.handleResult(a),this.columns=[],i=n.arrTitles,r=n.arrKeys,o=0;o<r.length;o++)l={title:i[o],sortable:"custom",minWidth:120,align:"center",key:r[o]},"Status"===l.key&&(l.render=function(t,e){return t("div",[t("i-switch",{props:{value:"1"===e.row.Status||1===e.row.Status,size:"large"},scopedSlots:{open:function(){return"开启"},close:function(){return"关闭"}},on:{"on-change":function(t){c.changeStatus(e.index)}}})])}),this.columns.push(l);this.columns.push({title:"操作",key:"action",align:"center",width:160,render:function(t,e){return t("div",[t("Button",{props:{type:"success",icon:"compose",size:"small"},style:{marginRight:"2px"},on:{click:function(){c.showEditModal(e.index)}}},"编辑")])}}),this.tableDatas=n.tableDatas,this.total=n.total,t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](0);case 18:this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[0,16]])}));function e(){return t.apply(this,arguments)}return e}(),toLoading:function(){this.init()},cancel:function(){this.showEdit=!1},showEditModal:function(t){this.showEdit=!0,this.editRow=Object(s["a"])({},this.tableDatas[t])},toEdit:function(){this.saveEdit({pkid:this.editRow.pkid,ChannelCallbackURL:this.editRow.ChannelCallbackURL,ChannelURL:this.editRow.ChannelURL,MerchandID:this.editRow.MerchandID})},changeStatus:function(t){var e={pkid:this.tableDatas[t].pkid,Status:"1"===this.tableDatas[t].Status||1===this.tableDatas[t].Status?"0":"1"};this.saveEdit(e)},saveEdit:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.$store.dispatch("updateRechargeChannel",e);case 4:a=t.sent,a.data&&a.data.hasOwnProperty("result")&&0!==a.data.result?this.$Message.error(a.data.szresult):(this.$Message.success("修改成功!"),this.showEdit=!1,this.init()),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:this.loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e){return t.apply(this,arguments)}return e}()}},c=l,d=(a("e73d"),a("2877")),u=Object(d["a"])(c,n,i,!1,null,"2544d23f",null);e["default"]=u.exports},2708:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n={methods:{handleResult:function(t,e){var a={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(t&&t.data){var n=t.data;if(n.arrTitles&&n.arrTitles.arrString&&n.arrTitles.arrString.length&&(a.arrTitles=n.arrTitles.arrString),n.arrKeys&&n.arrKeys.arrString&&n.arrKeys.arrString.length&&(a.arrKeys=n.arrKeys.arrString),a.arrKeys.length||(a.arrKeys=a.arrTitles),e||(e=a.arrKeys),n.arrDatas&&n.arrDatas.length)for(var i=0;i<n.arrDatas.length;i++){for(var s={},r=0;r<e.length;r++)s[e[r]]=n.arrDatas[i].arrString[r];a.tableDatas.push(s)}a.total=n.nTotal?n.nTotal:0}return a},IUDSuccess:function(t){return!(t&&t.data&&t.data.hasOwnProperty("result")&&1===t.data.result)},exportData:function(t,e){this.$refs[t].exportCsv({filename:e})}}}},3937:function(t,e,a){},e73d:function(t,e,a){"use strict";var n=a("3937"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-17a249e3.ecc8e691.js.map