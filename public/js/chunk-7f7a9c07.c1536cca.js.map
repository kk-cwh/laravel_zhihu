{"version":3,"sources":["webpack:///./src/utils/mixins.js","webpack:///./src/views/agent/wj-promolist.vue?dbfe","webpack:///./src/views/agent/wj-promolist.vue?2818","webpack:///src/views/agent/wj-promolist.vue","webpack:///./src/views/agent/wj-promolist.vue?604c","webpack:///./src/views/agent/wj-promolist.vue"],"names":["__webpack_require__","d","__webpack_exports__","myMixin","methods","handleResult","result","keys","res","arrKeys","arrTitles","tableDatas","total","data","arrString","length","arrDatas","i","rowObj","index","push","nTotal","IUDSuccess","hasOwnProperty","exportData","refName","filename","this","$refs","exportCsv","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wj_promolist_vue_vue_type_style_index_0_id_34c446cd_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_wj_promolist_vue_vue_type_style_index_0_id_34c446cd_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","_h","$createElement","_c","_self","attrs","label-position","label-width","inline","label","clearable","type","placeholder","model","value","query","callback","$$v","$set","expression","loading","queryLoading","icon","on","click","toQuery","_v","ref","border","columns","stripe","on-sort-change","sortChange","staticClass","page-size-opts","current","page","class-name","size","show-total","show-elevator","show-sizer","page-size","on-page-size-change","pageSizeChange","on-change","pageChange","width","closable","transfer","showEdit","gameLoading","gameColumns","gameTableDatas","gTotal","gPage","gpageSizeChange","gpageChange","staticStyle","color","text-align","slot","staticRenderFns","wj_promolistvue_type_script_lang_js_","mixins","modal_loading","btTypes","datasTime","per_page","g_per_page","showAdd","addRow","editRow","gameUserId","resetModal","resetType","mounted","computed","init","queryList","obj","order_by","key","order","pickerChange","am","b","clearDate","changeDate","day","start","Date","end","setDate","getDate","getDateFormate","date","getFullYear","getMonth","perPage","getWjPromoList","_queryList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","minIndex","maxIndex","columnTitles","columnKeys","_this","wrap","_context","prev","next","objectSpread","start_time","end_time","$store","dispatch","sent","title","sortable","minWidth","align","h","params","style","showEditModal","row","AgencyID","t0","stop","apply","arguments","cancel","_getWjPromoList","_callee2","_context2","ParentId","agent_wj_promolistvue_type_script_lang_js_","component","componentNormalizer"],"mappings":"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","file":"js/chunk-7f7a9c07.c1536cca.js","sourcesContent":["export const myMixin = {\n  methods: {\n\n    handleResult (result, keys) {\n      let res = { arrKeys: [], arrTitles: [], tableDatas: [], total: 0 }\n      if (result && result.data) {\n        let data = result.data\n        if (data.arrTitles && data.arrTitles.arrString && data.arrTitles.arrString.length) {\n          res.arrTitles = data.arrTitles.arrString\n        }\n        if (data.arrKeys && data.arrKeys.arrString && data.arrKeys.arrString.length) {\n          res.arrKeys = data.arrKeys.arrString\n        }\n        if (!res.arrKeys.length) {\n          res.arrKeys = res.arrTitles\n        }\n        if (!keys) {\n          keys = res.arrKeys\n        }\n        if (data.arrDatas && data.arrDatas.length) {\n          for (let i = 0; i < data.arrDatas.length; i++) {\n            var rowObj = {}\n            for (let index = 0; index < keys.length; index++) {\n              rowObj[keys[index]] = data.arrDatas[i].arrString[index]\n            }\n            res.tableDatas.push(rowObj)\n          }\n        }\n        res.total = data.nTotal ? data.nTotal : 0\n      }\n      return res\n    },\n    IUDSuccess (res) {\n      if (res && res.data && res.data.hasOwnProperty('result') && res.data.result === 1) {\n        return false\n      }\n      return true\n    },\n    exportData (refName, filename) {\n      this.$refs[refName].exportCsv({\n        filename\n      })\n    }\n\n  }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wj-promolist.vue?vue&type=style&index=0&id=34c446cd&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wj-promolist.vue?vue&type=style&index=0&id=34c446cd&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{attrs:{\"label-position\":\"right\",\"label-width\":70,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"代理ID:\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"type\":\"text\",\"placeholder\":\"填写代理ID\"},model:{value:(_vm.query.AgencyID),callback:function ($$v) {_vm.$set(_vm.query, \"AgencyID\", $$v)},expression:\"query.AgencyID\"}})],1),_c('FormItem',{attrs:{\"label-width\":1}},[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.queryLoading,\"icon\":\"ios-search\"},on:{\"click\":_vm.toQuery}},[_vm._v(\"查询\")])],1)],1),_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.queryLoading,\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableDatas,\"stripe\":\"\"},on:{\"on-sort-change\":_vm.sortChange}}),_c('Page',{staticClass:\"margin-top-10\",attrs:{\"total\":_vm.total,\"page-size-opts\":[20,50,100],\"current\":_vm.page,\"class-name\":\"margin-top-10\",\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\",\"page-size\":20},on:{\"on-page-size-change\":_vm.pageSizeChange,\"on-change\":_vm.pageChange}}),_c('Modal',{staticClass:\"demo-tabs-style1\",attrs:{\"width\":\"800\",\"closable\":false,\"transfer\":false},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[_c('Tabs',{attrs:{\"type\":\"card\"}},[_c('TabPane',{attrs:{\"label\":\"直属玩家列表\"}},[_c('Table',{ref:\"selection\",attrs:{\"size\":\"small\",\"loading\":_vm.gameLoading,\"border\":\"\",\"columns\":_vm.gameColumns,\"data\":_vm.gameTableDatas,\"stripe\":\"\"}}),_c('Page',{staticClass:\"margin-top-10\",attrs:{\"total\":_vm.gTotal,\"page-size-opts\":[20,50,100],\"current\":_vm.gPage,\"class-name\":\"margin-top-10\",\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\",\"page-size\":20},on:{\"on-page-size-change\":_vm.gpageSizeChange,\"on-change\":_vm.gpageChange}})],1)],1),_c('div',{staticStyle:{\"color\":\"#f60\",\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Form label-position=\"right\" :label-width=\"70\" inline>\n\n      <FormItem label=\"代理ID:\" class=\"\">\n        <Input clearable type=\"text\" v-model=\"query.AgencyID\" placeholder=\"填写代理ID\"></Input>\n      </FormItem>\n      <!-- <FormItem label=\"ID:\" class=\"\">\n        <Input clearable type=\"text\" v-model=\"query.UserID\" placeholder=\"填写玩家ID\"></Input>\n      </FormItem>\n      <FormItem label=\"玩家昵称:\" class=\"\">\n        <Input clearable type=\"text\" v-model=\"query.NickName\" placeholder=\"填写玩家昵称\"></Input>\n      </FormItem>\n      <FormItem label=\"注册时间:\" class=\"\">\n         <Button :type=\"btTypes[3]\" @click=\"changeDate(-1)\" size=\"small\">昨天</Button>         <Button :type=\"btTypes[0]\" @click=\"changeDate(1)\" size=\"small\">今天</Button>\n        <Button :type=\"btTypes[1]\" @click=\"changeDate(7)\" size=\"small\">近一周</Button>\n        <Button :type=\"btTypes[2]\" @click=\"changeDate(30)\" size=\"small\">近一月</Button>\n        <DatePicker @on-change=\"pickerChange\" @on-clear=\"clearDate\" :value=\"datasTime\" format=\"yyyy/MM/dd\" type=\"daterange\" clearable placement=\"bottom-end\" placeholder=\"Select date\" style=\"width: 200px\"></DatePicker>\n      </FormItem> -->\n\n      <FormItem :label-width=\"1\">\n        <Button type=\"primary\" @click=\"toQuery\" :loading=\"queryLoading\" icon=\"ios-search\">查询</Button>\n      </FormItem>\n\n    </Form>\n    <Table :loading=\"queryLoading\" @on-sort-change=\"sortChange\" border ref=\"selection\" :columns=\"columns\" :data=\"tableDatas\" stripe></Table>\n\n    <Page :total=\"total\" :page-size-opts=\"[20,50,100]\" :current=\"page\" class-name=\"margin-top-10\" @on-page-size-change=\"pageSizeChange\" @on-change=\"pageChange\" size=\"small\" show-total show-elevator show-sizer :page-size=\"20\" class=\"margin-top-10\"></Page>\n    <Modal v-model=\"showEdit\" width=\"800\" class=\"demo-tabs-style1\" :closable=\"false\" :transfer=\"false\">\n      <Tabs type=\"card\">\n        <TabPane label=\"直属玩家列表\">\n          <Table size=\"small\" :loading=\"gameLoading\" border ref=\"selection\" :columns=\"gameColumns\" :data=\"gameTableDatas\" stripe></Table>\n\n          <Page :total=\"gTotal\" :page-size-opts=\"[20,50,100]\" :current=\"gPage\" class-name=\"margin-top-10\" @on-page-size-change=\"gpageSizeChange\" @on-change=\"gpageChange\" size=\"small\" show-total show-elevator show-sizer :page-size=\"20\" class=\"margin-top-10\"></Page>\n\n        </TabPane>\n\n      </Tabs>\n      <div slot=\"footer\" style=\"color:#f60;text-align:center\">\n        <!-- <Button type=\"default\" @click=\"cancel\">取消</Button>\n        <Button type=\"primary\" @click=\"toEdit('formValidate')\" :loading=\"loading\">确定</Button> -->\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\nimport { myMixin } from '@/utils/mixins.js'\nexport default {\n  mixins: [myMixin],\n  data () {\n    return {\n      queryLoading: false,\n      gameLoading: false,\n      modal_loading: false,\n      btTypes: ['', '', '', ''],\n      loading: false,\n      query: {},\n      datasTime: [],\n      page: 1,\n      per_page: 20,\n      total: 0,\n      gPage: 1,\n      g_per_page: 20,\n      gTotal: 0,\n      showEdit: false,\n      showAdd: false,\n      addRow: {},\n      editRow: {},\n      columns: [],\n      gameUserId: 0,\n      tableDatas: [],\n      resetModal: false,\n      resetType: '',\n      gameColumns: [ ],\n      gameTableDatas: []\n    }\n  },\n  mounted () {\n    // this.init();\n  },\n  computed: {},\n  methods: {\n    init () {\n      this.queryList()\n    },\n    sortChange (obj) {\n      this.query.order_by = obj.key + ' ' + obj.order\n      this.queryList()\n    },\n    pickerChange (am, b) {\n      this.datasTime = am; this.clearDate()\n    },\n    clearDate () {\n      this.btTypes = ['', '', '', '']\n    },\n    changeDate (day) {\n      this.datasTime = []\n      var start = new Date()\n      var end = new Date()\n      if (day === -1) {\n        this.btTypes = [ '', '', '', 'success' ]\n        start.setDate(start.getDate() - 1)\n        end.setDate(end.getDate() - 1)\n        this.datasTime = [this.getDateFormate(start), this.getDateFormate(end)]\n      }\n      if (day === 1) {\n        this.btTypes = ['success', '', '', '']\n        this.datasTime = [this.getDateFormate(start), this.getDateFormate(end)]\n      }\n      if (day === 7) {\n        this.btTypes = ['', 'success', '', '']\n        start.setDate(start.getDate() - 6)\n        this.datasTime = [this.getDateFormate(start), this.getDateFormate(end)]\n      }\n      if (day === 30) {\n        this.btTypes = ['', '', 'success', '']\n        start.setDate(start.getDate() - 29)\n        this.datasTime = [this.getDateFormate(start), this.getDateFormate(end)]\n      }\n    },\n    getDateFormate (date) {\n      return date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate()\n    },\n    pageChange (page) {\n      this.page = page\n      this.queryList()\n    },\n    pageSizeChange (perPage) {\n      if (this.per_page !== perPage) {\n        this.per_page = perPage\n        this.queryList()\n      }\n    },\n    gpageChange (page) {\n      this.gPage = page\n      this.getWjPromoList()\n    },\n    gpageSizeChange (perPage) {\n      if (this.g_per_page !== perPage) {\n        this.g_per_page = perPage\n        this.getWjPromoList()\n      }\n    },\n    async queryList () {\n      try {\n        this.queryLoading = true\n        let minIndex = (this.page - 1) * this.per_page\n        let maxIndex = this.page * this.per_page\n        const data = {\n          minIndex: minIndex,\n          maxIndex: (maxIndex > this.total && this.total && this.page > 1) ? this.total : maxIndex,\n          ...this.query,\n          start_time: (this.datasTime.length > 0 && this.datasTime[0]) ? this.datasTime[0] : '',\n          end_time: (this.datasTime.length > 1 && this.datasTime[1]) ? this.datasTime[1] + ' 23:59:59' : ''\n        }\n\n        const result = await this.$store.dispatch('getWjPromoList', data)\n        const res = this.handleResult(result)\n        this.columns = []\n        let columnTitles = res.arrTitles\n        let columnKeys = res.arrKeys\n        for (let i = 0; i < columnKeys.length; i++) {\n          let obj = {\n            title: columnTitles[i],\n            sortable: 'custom',\n            minWidth: 120,\n            align: 'center',\n            key: columnKeys[i]\n          }\n          if (obj.key === 'AgencyID') {\n            obj.render = (h, params) => {\n              return h('div', [\n                h(\n                  'a',\n                  {\n                    style: {\n                      color: '#2d8cf0'\n                    },\n                    on: {\n                      click: () => {\n                        this.showEditModal(params.index)\n                      }\n                    }\n                  }, params.row.AgencyID\n                )\n\n              ])\n            }\n          }\n          this.columns.push(obj)\n        }\n        this.tableDatas = res.tableDatas\n        this.total = res.total\n      } catch (error) {\n      }\n      this.queryLoading = false\n    },\n    toQuery () {\n      this.page = 1\n      this.queryList()\n    },\n    cancel () {\n      this.showEdit = false\n      // this.showAdd = false\n    },\n    showEditModal (index) {\n      this.showEdit = true\n      this.editRow = { ...this.tableDatas[index] }\n      this.gameUserId = this.tableDatas[index].AgencyID\n      this.gPage = 1\n      this.getWjPromoList()\n    },\n    async getWjPromoList () {\n      try {\n        this.gameLoading = true\n        let minIndex = (this.gPage - 1) * this.g_per_page\n        let maxIndex = this.gPage * this.g_per_page\n        const data = {\n          ParentId: this.gameUserId,\n          minIndex: minIndex,\n          maxIndex: (maxIndex > this.gTotal && this.gTotal && this.gPage > 1) ? this.gTotal : maxIndex\n        }\n        const result = await this.$store.dispatch('getWJUserList', data)\n        const res = this.handleResult(result)\n        this.gameColumns = []\n        let columnTitles = res.arrTitles\n        let columnKeys = res.arrKeys\n        for (let i = 0; i < columnKeys.length; i++) {\n          let obj = {\n            title: columnTitles[i],\n            sortable: 'custom',\n            minWidth: 130,\n            align: 'center',\n            key: columnKeys[i]\n          }\n          this.gameColumns.push(obj)\n        }\n        this.gameTableDatas = res.tableDatas\n        this.gTotal = res.total\n      } catch (error) {\n      }\n      this.gameLoading = false\n    }\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.margin-top-10 {\n  margin-top: 10px;\n}\n\n.demo-tabs-style1 {\n  .ivu-tabs-card {\n    .ivu-tabs-content {\n      .ivu-tabs-tabpane {\n        // background: #f00;\n        margin-top: -16px;\n        padding-top: 16px;\n        padding-left: 5px;\n        // border-left: 1px solid #dddee1;\n        // border-right: 1px solid #dddee1;\n        // border-bottom: 1px solid #dddee1;\n      }\n    }\n  }\n  .ivu-input-group-append {\n    .self-input-append {\n      background: #ed3f14;\n      margin: -5px -10px;\n      height: 32px;\n      line-height: 32px;\n      width: 60px;\n      border-radius: 3px;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wj-promolist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wj-promolist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wj-promolist.vue?vue&type=template&id=34c446cd&scoped=true&\"\nimport script from \"./wj-promolist.vue?vue&type=script&lang=js&\"\nexport * from \"./wj-promolist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wj-promolist.vue?vue&type=style&index=0&id=34c446cd&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34c446cd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}