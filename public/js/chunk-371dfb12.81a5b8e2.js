(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-371dfb12"],{2708:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r={methods:{handleResult:function(t,e){var a={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(t&&t.data){var r=t.data;if(r.arrTitles&&r.arrTitles.arrString&&r.arrTitles.arrString.length&&(a.arrTitles=r.arrTitles.arrString),r.arrKeys&&r.arrKeys.arrString&&r.arrKeys.arrString.length&&(a.arrKeys=r.arrKeys.arrString),a.arrKeys.length||(a.arrKeys=a.arrTitles),e||(e=a.arrKeys),r.arrDatas&&r.arrDatas.length)for(var s=0;s<r.arrDatas.length;s++){for(var o={},n=0;n<e.length;n++)o[e[n]]=r.arrDatas[s].arrString[n];a.tableDatas.push(o)}a.total=r.nTotal?r.nTotal:0}return a},IUDSuccess:function(t){return!(t&&t.data&&t.data.hasOwnProperty("result")&&1===t.data.result)},exportData:function(t,e){this.$refs[t].exportCsv({filename:e})}}}},"7d29":function(t,e,a){},9355:function(t,e,a){"use strict";var r=a("7d29"),s=a.n(r);s.a},ed3c:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{"label-position":"right","label-width":70,inline:""}},[a("FormItem",{attrs:{label:"代理ID:"}},[a("Input",{attrs:{clearable:"",type:"text",placeholder:"填写代理ID"},model:{value:t.query.AgencyID,callback:function(e){t.$set(t.query,"AgencyID",e)},expression:"query.AgencyID"}})],1),a("FormItem",{attrs:{label:"转出金额:"}},[a("Input",{staticStyle:{width:"88px"},attrs:{clearable:"",type:"text",placeholder:""},model:{value:t.query.minMoney,callback:function(e){t.$set(t.query,"minMoney",e)},expression:"query.minMoney"}}),t._v("\n      -\n      "),a("Input",{staticStyle:{width:"88px"},attrs:{clearable:"",type:"text",placeholder:""},model:{value:t.query.maxMoney,callback:function(e){t.$set(t.query,"maxMoney",e)},expression:"query.maxMoney"}})],1),a("FormItem",{attrs:{label:"时间选择:"}},[a("Button",{attrs:{type:t.btTypes[3],size:"small"},on:{click:function(e){return t.changeDate(-1)}}},[t._v("昨天")]),a("Button",{attrs:{type:t.btTypes[0],size:"small"},on:{click:function(e){return t.changeDate(1)}}},[t._v("今天")]),a("Button",{attrs:{type:t.btTypes[1],size:"small"},on:{click:function(e){return t.changeDate(7)}}},[t._v("近一周")]),a("Button",{attrs:{type:t.btTypes[2],size:"small"},on:{click:function(e){return t.changeDate(30)}}},[t._v("近一月")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:t.datasTime,format:"yyyy/MM/dd",type:"daterange",clearable:"",placement:"bottom-end",placeholder:"Select date"},on:{"on-change":t.pickerChange,"on-clear":t.clearDate}})],1),a("FormItem",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary",loading:t.queryLoading,icon:"ios-search"},on:{click:t.toQuery}},[t._v("查询")])],1)],1),a("Table",{ref:"selection",attrs:{loading:t.queryLoading,border:"",columns:t.columns,data:t.tableDatas,stripe:""},on:{"on-sort-change":t.sortChange}}),a("Page",{staticClass:"margin-top-10",attrs:{total:t.total,"page-size-opts":[20,50,100],current:t.page,"class-name":"margin-top-10",size:"small","show-total":"","show-elevator":"","show-sizer":"","page-size":20},on:{"on-page-size-change":t.pageSizeChange,"on-change":t.pageChange}}),a("Modal",{attrs:{title:"转账记录信息",width:"520"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{attrs:{model:t.showRow,"label-position":"right","label-width":140}},[a("FormItem",{attrs:{label:"订单ID：",prop:"AccountName"}},[a("Input",{staticStyle:{width:"240px"},attrs:{readonly:""},model:{value:t.showRow.订单ID,callback:function(e){t.$set(t.showRow,"订单ID",e)},expression:"showRow.订单ID"}})],1),a("FormItem",{attrs:{label:"订单类型：",prop:"NickName"}},[a("Input",{staticStyle:{width:"240px"},attrs:{value:"充值",readonly:""}})],1),a("FormItem",{attrs:{label:"代理名称：",prop:"AcPwd"}},[a("Input",{staticStyle:{width:"240px"},attrs:{readonly:""},model:{value:t.showRow.代理名称,callback:function(e){t.$set(t.showRow,"代理名称",e)},expression:"showRow.代理名称"}})],1),a("FormItem",{attrs:{label:"用户ID：",prop:"Pwd_confirm"}},[a("Input",{staticStyle:{width:"240px"},attrs:{readonly:""},model:{value:t.showRow.转到玩家,callback:function(e){t.$set(t.showRow,"转到玩家",e)},expression:"showRow.转到玩家"}})],1),a("FormItem",{attrs:{label:"充值金额：",prop:"Pwd_confirm"}},[a("Input",{staticStyle:{width:"240px"},attrs:{value:-t.showRow.转出金额,readonly:""}})],1),a("FormItem",{attrs:{label:"大写金额：",prop:"Pwd_confirm"}},[a("Input",{staticStyle:{width:"240px"},attrs:{value:t.moneyUppercase(-t.showRow.转出金额),readonly:""}})],1),a("FormItem",{attrs:{label:"充值时间：",prop:"Pwd_confirm"}},[a("Input",{staticStyle:{width:"240px"},attrs:{readonly:""},model:{value:t.showRow.RecordTime,callback:function(e){t.$set(t.showRow,"RecordTime",e)},expression:"showRow.RecordTime"}})],1)],1),a("div",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default"},on:{click:function(e){t.showModal=!1}}},[t._v("关 闭")])],1)],1)],1)},s=[],o=(a("a481"),a("cebc")),n=(a("96cf"),a("3b8d")),i=a("2708"),l={mixins:[i["a"]],data:function(){return{queryLoading:!1,btTypes:["","","",""],room_names:[{label:"全部",value:0},{label:"正常",value:"1"},{label:"已封",value:"2"}],loading:!1,query:{game_type:0,UserID:"",Status:""},datasTime:[],page:1,per_page:20,total:0,showModal:!1,showAdd:!1,addRow:{},showRow:{},columns:[],tableDatas:[]}},mounted:function(){},computed:{},methods:{init:function(){this.queryList()},sortChange:function(t){this.query.order_by=t.key+" "+t.order,this.queryList()},pickerChange:function(t,e){this.datasTime=t,this.clearDate()},clearDate:function(){this.btTypes=["","","",""]},changeDate:function(t){this.datasTime=[];var e=new Date,a=new Date;-1===t&&(this.btTypes=["","","","success"],e.setDate(e.getDate()-1),a.setDate(a.getDate()-1),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),1===t&&(this.btTypes=["success","","",""],this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),7===t&&(this.btTypes=["","success","",""],e.setDate(e.getDate()-6),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),30===t&&(this.btTypes=["","","success",""],e.setDate(e.getDate()-29),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)])},getDateFormate:function(t){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},pageChange:function(t){this.page=t,this.queryList()},pageSizeChange:function(t){this.per_page!==t&&(this.per_page=t,this.queryList())},queryList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a,r,s,n,i,l,c,h,u=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.queryLoading=!0,e=(this.page-1)*this.per_page,a=this.page*this.per_page,r=Object(o["a"])({page:this.page,per_page:this.per_page,minIndex:e,maxIndex:a>this.total&&this.total&&this.page>1?this.total:a},this.query,{start_time:this.datasTime.length>0&&this.datasTime[0]?this.datasTime[0]:"",end_time:this.datasTime.length>1&&this.datasTime[1]?this.datasTime[1]+" 23:59:59":""}),t.next=7,this.$store.dispatch("getTransferRecord",r);case 7:for(s=t.sent,n=this.handleResult(s),this.columns=[],i=n.arrTitles,l=n.arrKeys,c=0;c<l.length;c++)h={title:i[c],sortable:"custom",minWidth:120,key:l[c]},"订单ID"===h.key&&(h.render=function(t,e){return t("div",[t("a",{class:"mouse-on",on:{click:function(){u.showShowModal(e.index)}}},e.row["订单ID"])])}),this.columns.push(h);this.tableDatas=n.tableDatas,this.total=n.total,t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](0);case 19:this.queryLoading=!1;case 20:case"end":return t.stop()}},t,this,[[0,17]])}));function e(){return t.apply(this,arguments)}return e}(),toQuery:function(){this.page=1,this.queryList()},showShowModal:function(t){"累计转出:"!==this.tableDatas[t]["订单ID"]&&(this.showModal=!0,this.showRow=this.tableDatas[t])},moneyUppercase:function(t){var e=["角","分"],a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],s=t<0?"欠":"";t=Math.abs(t);for(var o="",n=0;n<e.length;n++)o+=(a[Math.floor(10*t*Math.pow(10,n))%10]+e[n]).replace(/零./,"");o=o||"整",t=Math.floor(t);for(var i=0;i<r[0].length&&t>0;i++){for(var l="",c=0;c<r[1].length&&t>0;c++)l=a[t%10]+r[1][c]+l,t=Math.floor(t/10);o=l.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][i]+o}return s+o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}}},c=l,h=(a("9355"),a("2877")),u=Object(h["a"])(c,r,s,!1,null,"37656814",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-371dfb12.81a5b8e2.js.map