(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0f4b32e"],{2708:function(t,s,e){"use strict";e.d(s,"a",function(){return i});var i={methods:{handleResult:function(t,s){var e={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(t&&t.data){var i=t.data;if(i.arrTitles&&i.arrTitles.arrString&&i.arrTitles.arrString.length&&(e.arrTitles=i.arrTitles.arrString),i.arrKeys&&i.arrKeys.arrString&&i.arrKeys.arrString.length&&(e.arrKeys=i.arrKeys.arrString),e.arrKeys.length||(e.arrKeys=e.arrTitles),s||(s=e.arrKeys),i.arrDatas&&i.arrDatas.length)for(var n=0;n<i.arrDatas.length;n++){for(var a={},r=0;r<s.length;r++)a[s[r]]=i.arrDatas[n].arrString[r];e.tableDatas.push(a)}e.total=i.nTotal?i.nTotal:0}return e},IUDSuccess:function(t){return!(t&&t.data&&t.data.hasOwnProperty("result")&&1===t.data.result)},exportData:function(t,s){this.$refs[t].exportCsv({filename:s})}}}},"28a5":function(t,s,e){"use strict";var i=e("aae3"),n=e("cb7c"),a=e("ebd6"),r=e("0390"),l=e("9def"),o=e("5f1b"),c=e("520a"),u=e("79e5"),p=Math.min,m=[].push,d="split",h="length",f="lastIndex",k=4294967295,g=!u(function(){RegExp(k,"y")});e("214f")("split",2,function(t,s,e,u){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[h]||2!="ab"[d](/(?:ab)*/)[h]||4!="."[d](/(.?)(.?)/)[h]||"."[d](/()()/)[h]>1||""[d](/.?/)[h]?function(t,s){var n=String(this);if(void 0===t&&0===s)return[];if(!i(t))return e.call(n,t,s);var a,r,l,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,d=void 0===s?k:s>>>0,g=new RegExp(t.source,u+"g");while(a=c.call(g,n)){if(r=g[f],r>p&&(o.push(n.slice(p,a.index)),a[h]>1&&a.index<n[h]&&m.apply(o,a.slice(1)),l=a[0][h],p=r,o[h]>=d))break;g[f]===a.index&&g[f]++}return p===n[h]?!l&&g.test("")||o.push(""):o.push(n.slice(p)),o[h]>d?o.slice(0,d):o}:"0"[d](void 0,0)[h]?function(t,s){return void 0===t&&0===s?[]:e.call(this,t,s)}:e,[function(e,i){var n=t(this),a=void 0==e?void 0:e[s];return void 0!==a?a.call(e,n,i):v.call(String(n),e,i)},function(t,s){var i=u(v,t,this,s,v!==e);if(i.done)return i.value;var c=n(t),m=String(this),d=a(c,RegExp),h=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),R=new d(g?c:"^(?:"+c.source+")",f),b=void 0===s?k:s>>>0;if(0===b)return[];if(0===m.length)return null===o(R,m)?[m]:[];var _=0,y=0,x=[];while(y<m.length){R.lastIndex=g?y:0;var C,w=o(R,g?m:m.slice(y));if(null===w||(C=p(l(R.lastIndex+(g?0:y)),m.length))===_)y=r(m,y,h);else{if(x.push(m.slice(_,y)),x.length===b)return x;for(var S=1;S<=w.length-1;S++)if(x.push(w[S]),x.length===b)return x;y=_=C}}return x.push(m.slice(_)),x}]})},"48f6":function(t,s,e){},"6beb":function(t,s,e){},b33f:function(t,s,e){"use strict";var i=e("6beb"),n=e.n(i);n.a},b392:function(t,s,e){"use strict";var i=e("48f6"),n=e.n(i);n.a},fec9:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"home-main"},[e("Card",{staticClass:"risk-card"},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        用户风控内容\n      ")]),e("div",{staticClass:"risk-times"},[t._v(" 每 "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,number:"",size:"small"},model:{value:t.m1,callback:function(s){t.m1=s},expression:"m1"}}),t._v(" 分钟运行一次")],1),e("CheckboxGroup",{model:{value:t.userRisks,callback:function(s){t.userRisks=s},expression:"userRisks"}},t._l(t.userRiskConfigs,function(s,i){return e("Checkbox",{key:"userRiskConfigs"+i,staticClass:"checkbox-item",attrs:{label:s.id,readonly:""}},[2===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+"\n          ")],1):t._e(),3===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:s.p2,callback:function(e){t.$set(s,"p2",e)},expression:"i.p2"}}),t._v(" "+t._s(s.content[2])+"\n          ")],1):t._e()])}),1)],1),e("Card",{staticClass:"risk-card"},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        支付风控内容\n      ")]),e("div",{staticClass:"risk-times"},[t._v(" 每 "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:t.m4,callback:function(s){t.m4=s},expression:"m4"}}),t._v(" 分钟运行一次")],1),e("CheckboxGroup",{model:{value:t.payRisks,callback:function(s){t.payRisks=s},expression:"payRisks"}},t._l(t.payRiskConfigs,function(s,i){return e("Checkbox",{key:"payRiskConfigs"+i,staticClass:"checkbox-item",attrs:{label:s.id}},[2===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+"\n          ")],1):t._e(),3===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p2,callback:function(e){t.$set(s,"p2",e)},expression:"i.p2"}}),t._v(" "+t._s(s.content[2])+"\n          ")],1):t._e()])}),1)],1),e("Card",{staticClass:"risk-card"},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        代理风控内容\n      ")]),e("div",{staticClass:"risk-times"},[t._v(" 每 "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:t.m2,callback:function(s){t.m2=s},expression:"m2"}}),t._v(" 分钟运行一次")],1),e("CheckboxGroup",{model:{value:t.agentRisks,callback:function(s){t.agentRisks=s},expression:"agentRisks"}},t._l(t.agentRiskConfigs,function(s,i){return e("Checkbox",{key:"agentRiskConfigs"+i,staticClass:"checkbox-item",attrs:{label:s.id}},[2===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+"\n          ")],1):t._e(),3===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p2,callback:function(e){t.$set(s,"p2",e)},expression:"i.p2"}}),t._v(" "+t._s(s.content[2])+"\n          ")],1):t._e()])}),1)],1),e("Card",{staticClass:"risk-card"},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n        平台风控内容\n      ")]),e("div",{staticClass:"risk-times"},[t._v(" 每 "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{min:1,size:"small"},model:{value:t.m3,callback:function(s){t.m3=s},expression:"m3"}}),t._v(" 分钟运行一次")],1),e("CheckboxGroup",{model:{value:t.platformRisks,callback:function(s){t.platformRisks=s},expression:"platformRisks"}},t._l(t.platformRiskConfigs,function(s,i){return e("Checkbox",{key:"platformRiskConfigs"+i,staticClass:"checkbox-item",attrs:{label:s.id}},[2===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+"\n          ")],1):t._e(),3===s.content.length?e("span",[t._v("\n             "+t._s(s.content[0])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p1,callback:function(e){t.$set(s,"p1",e)},expression:"i.p1"}}),t._v(" "+t._s(s.content[1])+" "),e("InputNumber",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.p2,callback:function(e){t.$set(s,"p2",e)},expression:"i.p2"}}),t._v(" "+t._s(s.content[2])+"\n          ")],1):t._e()])}),1)],1),e("div",{staticClass:"clearfloat"},[e("Row",[e("Col",{staticStyle:{"padding-left":"10px"},attrs:{span:"12"}},[e("Button",{attrs:{type:"primary",icon:"android-checkbox-outline"},on:{click:t.selectAll}},[t._v("全部选中")]),e("Button",{attrs:{type:"warning",icon:"android-cancel"},on:{click:t.allCancel}},[t._v("全部取消")])],1),e("Col",{staticStyle:{"text-align":"right","padding-right":"50px"},attrs:{span:"12"}},[e("Button",{attrs:{type:"ghost",icon:"android-refresh"},on:{click:t.refreshLoad}},[t._v("重置")]),e("Button",{attrs:{type:"success",icon:"filing",loading:t.loading},on:{click:t.toSave}},[t._v("保存")])],1)],1)],1)],1)])},n=[],a=(e("28a5"),e("96cf"),e("3b8d")),r=(e("c5f6"),e("2708")),l={mixins:[r["a"]],name:"home",components:{},data:function(){return{agentRisks:[],userRisks:[],payRisks:[],platformRisks:[],agentRisksall:[],userRisksall:[],payRisksall:[],platformRisksall:[],userRiskConfigs:[],agentRiskConfigs:[],platformRiskConfigs:[],payRiskConfigs:[],m1:0,m2:0,m3:0,m4:0,loading:!1,ruleValidate:{MsgTitle:[{required:!0,message:"标题不能为空!",trigger:"blur"}],MsgContent:[{required:!0,message:"内容不能为空!",trigger:"blur"}],StartTime:[{required:!0,message:"请选择开始时间!",trigger:"change"}],EndTime:[{required:!0,message:"请选择结束时间!",trigger:"change"}],OrderNum:[{required:!0,message:"请填写排序数字! ",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(t){return Number(t)}}]}}},computed:{},mounted:function(){this.init()},methods:{init:function(){this.getRisks()},selectAll:function(){this.userRisks=this.userRisksall,this.agentRisks=this.agentRisksall,this.payRisks=this.payRisksall,this.platformRisks=this.platformRisksall},allCancel:function(){this.userRisks=[],this.agentRisks=[],this.payRisks=[],this.platformRisks=[]},refreshLoad:function(){this.userRisks=[],this.agentRisks=[],this.payRisks=[],this.platformRisks=[],this.userRisksall=[],this.agentRisksall=[],this.payRisksall=[],this.platformRisksall=[],this.userRiskConfigs=[],this.agentRiskConfigs=[],this.payRiskConfigs=[],this.platformRiskConfigs=[],this.getRisks()},getRisks:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var s,e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,s={},t.next=5,this.$store.dispatch("getRiskManagements",s);case 5:e=t.sent,e&&e.data&&e.data.forEach(function(t){1===t.type&&(i.userRiskConfigs.push({id:t.id,rate_minute:t.rate_minute,status:t.status,type:t.type,content:t.content.split("p"),p1:+t.p1,p2:+t.p2}),i.m1=+t.rate_minute,t.status&&i.userRisks.push(t.id),i.userRisksall.push(t.id)),2===t.type&&(i.agentRiskConfigs.push({id:t.id,rate_minute:t.rate_minute,status:t.status,type:t.type,content:t.content.split("p"),p1:+t.p1,p2:+t.p2}),i.m2=+t.rate_minute,t.status&&i.agentRisks.push(t.id),i.agentRisksall.push(t.id)),3===t.type&&(i.platformRiskConfigs.push({id:t.id,rate_minute:t.rate_minute,status:t.status,type:t.type,content:t.content.split("p"),p1:+t.p1,p2:+t.p2}),i.m3=+t.rate_minute,t.status&&i.platformRisks.push(t.id),i.platformRisksall.push(t.id)),4===t.type&&(i.payRiskConfigs.push({id:t.id,rate_minute:t.rate_minute,status:t.status,type:t.type,content:t.content.split("p"),p1:+t.p1,p2:+t.p2}),i.m4=+t.rate_minute,t.status&&i.payRisks.push(t.id),i.payRisksall.push(t.id))}),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:this.loading=!1;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));function s(){return t.apply(this,arguments)}return s}(),toSave:function(){var t=this;this.loading=!0;var s=this.userRiskConfigs.map(function(s){return{id:s.id,rate_minute:t.m1,status:t.userRisks.length&&t.userRisks.indexOf(s.id)>=0?1:0,p1:s.p1,p2:s.p2}}),e=this.agentRiskConfigs.map(function(s){return{id:s.id,rate_minute:t.m2,status:t.agentRisks.length&&t.agentRisks.indexOf(s.id)>=0?1:0,p1:s.p1,p2:s.p2}}),i=this.platformRiskConfigs.map(function(s){return{id:s.id,rate_minute:t.m3,status:t.platformRisks.length&&t.platformRisks.indexOf(s.id)>=0?1:0,p1:s.p1,p2:s.p2}}),n=this.payRiskConfigs.map(function(s){return{id:s.id,rate_minute:t.m4,status:t.payRisks.length&&t.payRisks.indexOf(s.id)>=0?1:0,p1:s.p1,p2:s.p2}}),a=s.concat(e,i,n);this.update(a)},update:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("updateRiskManagements",{riskManage:s});case 3:this.$Message.success("保存成功!"),this.refreshLoad(),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:this.loading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function s(s){return t.apply(this,arguments)}return s}()}},o=l,c=(e("b33f"),e("b392"),e("2877")),u=Object(c["a"])(o,i,n,!1,null,"6b44f704",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-c0f4b32e.6fb1c128.js.map