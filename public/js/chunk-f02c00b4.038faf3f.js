(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f02c00b4"],{2708:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var r={methods:{handleResult:function(t,e){var a={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(t&&t.data){var r=t.data;if(r.arrTitles&&r.arrTitles.arrString&&r.arrTitles.arrString.length&&(a.arrTitles=r.arrTitles.arrString),r.arrKeys&&r.arrKeys.arrString&&r.arrKeys.arrString.length&&(a.arrKeys=r.arrKeys.arrString),a.arrKeys.length||(a.arrKeys=a.arrTitles),e||(e=a.arrKeys),r.arrDatas&&r.arrDatas.length)for(var s=0;s<r.arrDatas.length;s++){for(var i={},n=0;n<e.length;n++)i[e[n]]=r.arrDatas[s].arrString[n];a.tableDatas.push(i)}a.total=r.nTotal?r.nTotal:0}return a},IUDSuccess:function(t){return!(t&&t.data&&t.data.hasOwnProperty("result")&&1===t.data.result)},exportData:function(t,e){this.$refs[t].exportCsv({filename:e})}}}},"49fe":function(t,e,a){"use strict";var r=a("5051"),s=a.n(r);s.a},5051:function(t,e,a){},"693f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{"label-position":"right","label-width":70,inline:""}},[a("FormItem",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary",loading:t.queryLoading,icon:"ios-search"},on:{click:t.toQuery}},[t._v("查询")])],1)],1),a("Table",{ref:"selection",attrs:{loading:t.queryLoading,border:"",columns:t.columns,data:t.tableDatas,stripe:""}})],1)},s=[],i=a("cebc"),n=(a("ac6a"),a("96cf"),a("3b8d")),o=a("2708"),u={components:{},mixins:[o["a"]],data:function(){return{queryLoading:!1,btTypes:["","","",""],room_names:[{label:"全部",value:0}],statusObj:{0:"待审核",1:"提现成功",2:"拒绝提现",3:"待打款",5:"忽略"},loading:!1,query:{game_type:0,UserID:"",Status:""},datasTime:[],page:1,per_page:20,total:0,showEdit:!1,showAdd:!1,addRow:{},editRow:{},columns:[],tableDatas:[]}},mounted:function(){},computed:{},methods:{init:function(){this.queryList()},sortChange:function(t){this.query.order_by=t.key+" "+t.order,this.queryList()},pickerChange:function(t,e){this.datasTime=t,this.clearDate()},clearDate:function(){this.btTypes=["","","",""]},changeDate:function(t){this.datasTime=[];var e=new Date,a=new Date;-1===t&&(this.btTypes=["","","","success"],e.setDate(e.getDate()-1),a.setDate(a.getDate()-1),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),1===t&&(this.btTypes=["success","","",""],this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),7===t&&(this.btTypes=["","success","",""],e.setDate(e.getDate()-6),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),30===t&&(this.btTypes=["","","success",""],e.setDate(e.getDate()-29),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)])},getDateFormate:function(t){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},pageChange:function(t){this.page=t,this.queryList()},pageSizeChange:function(t){this.per_page!==t&&(this.per_page=t,this.queryList())},queryList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(regeneratorRuntime.mark(function t(){var a,r,s,n,o,u,c,l,h;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.queryLoading=!0,a=(e.page-1)*e.per_page,r=e.page*e.per_page,s=Object(i["a"])({page:e.page,per_page:e.per_page,minIndex:a,maxIndex:r>e.total&&e.total&&e.page>1?e.total:r},e.query,{start_time:e.datasTime.length>0&&e.datasTime[0]?e.datasTime[0]:"",end_time:e.datasTime.length>1&&e.datasTime[1]?e.datasTime[1]+" 23:59:59":""}),t.next=6,e.$store.dispatch("getPromoUrl",s);case 6:for(n=t.sent,o=e.handleResult(n),e.columns=[],u=o.arrTitles,c=o.arrKeys&&o.arrKeys.length?o.arrKeys:o.arrTitles,l=function(t){var a={title:u[t],minWidth:200,align:"center",key:c[t],render:function(e,a){return e("div",[e("a",{style:{display:"inline-block",height:"30px",lineHeight:"30px"},on:{click:function(){window.open(a.row[c[t]])}}},a.row[c[t]]),e("Qrcode",{props:{val:a.row[c[t]]}})])}};e.columns.push(a)},h=0;h<c.length;h++)l(h);e.tableDatas=o.tableDatas,e.total=o.total;case 15:case"end":return t.stop()}},t)})(),"t0",2);case 2:t.next=6;break;case 4:t.prev=4,t.t1=t["catch"](0);case 6:this.queryLoading=!1;case 7:case"end":return t.stop()}},t,this,[[0,4]])}));function e(){return t.apply(this,arguments)}return e}(),toQuery:function(){this.page=1,this.queryList()},toUpdateSettlement:function(t,e){var a={OrderID:this.tableDatas[t].OrderID,Status:e};this.saveEdit(a)},saveEdit:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,this.$store.dispatch("updateSettlement",e);case 4:a=t.sent,a.data&&a.data.hasOwnProperty("result")&&0!==a.data.result?this.$Message.error(a.data.szresult):(this.showEdit=!1,this.$Message.success("操作成功!"),setTimeout(function(){r.toQuery()},3e3)),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:this.loading=!1;case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e){return t.apply(this,arguments)}return e}()}},c=u,l=(a("49fe"),a("2877")),h=Object(l["a"])(c,r,s,!1,null,"5cc5afaf",null);e["default"]=h.exports},ac6a:function(t,e,a){for(var r=a("cadf"),s=a("0d58"),i=a("2aba"),n=a("7726"),o=a("32e9"),u=a("84f2"),c=a("2b4c"),l=c("iterator"),h=c("toStringTag"),g=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(d),m=0;m<p.length;m++){var f,y=p[m],T=d[y],D=n[y],L=D&&D.prototype;if(L&&(L[l]||o(L,l,g),L[h]||o(L,h,y),u[y]=g,T))for(f in r)L[f]||i(L,f,r[f],!0)}}}]);
//# sourceMappingURL=chunk-f02c00b4.038faf3f.js.map