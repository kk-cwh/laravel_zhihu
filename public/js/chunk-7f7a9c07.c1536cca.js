(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f7a9c07"],{2708:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s={methods:{handleResult:function(t,e){var a={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(t&&t.data){var s=t.data;if(s.arrTitles&&s.arrTitles.arrString&&s.arrTitles.arrString.length&&(a.arrTitles=s.arrTitles.arrString),s.arrKeys&&s.arrKeys.arrString&&s.arrKeys.arrString.length&&(a.arrKeys=s.arrKeys.arrString),a.arrKeys.length||(a.arrKeys=a.arrTitles),e||(e=a.arrKeys),s.arrDatas&&s.arrDatas.length)for(var r=0;r<s.arrDatas.length;r++){for(var i={},n=0;n<e.length;n++)i[e[n]]=s.arrDatas[r].arrString[n];a.tableDatas.push(i)}a.total=s.nTotal?s.nTotal:0}return a},IUDSuccess:function(t){return!(t&&t.data&&t.data.hasOwnProperty("result")&&1===t.data.result)},exportData:function(t,e){this.$refs[t].exportCsv({filename:e})}}}},"2f2e":function(t,e,a){"use strict";var s=a("cb95"),r=a.n(s);r.a},"81d5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{attrs:{"label-position":"right","label-width":70,inline:""}},[a("FormItem",{attrs:{label:"代理ID:"}},[a("Input",{attrs:{clearable:"",type:"text",placeholder:"填写代理ID"},model:{value:t.query.AgencyID,callback:function(e){t.$set(t.query,"AgencyID",e)},expression:"query.AgencyID"}})],1),a("FormItem",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary",loading:t.queryLoading,icon:"ios-search"},on:{click:t.toQuery}},[t._v("查询")])],1)],1),a("Table",{ref:"selection",attrs:{loading:t.queryLoading,border:"",columns:t.columns,data:t.tableDatas,stripe:""},on:{"on-sort-change":t.sortChange}}),a("Page",{staticClass:"margin-top-10",attrs:{total:t.total,"page-size-opts":[20,50,100],current:t.page,"class-name":"margin-top-10",size:"small","show-total":"","show-elevator":"","show-sizer":"","page-size":20},on:{"on-page-size-change":t.pageSizeChange,"on-change":t.pageChange}}),a("Modal",{staticClass:"demo-tabs-style1",attrs:{width:"800",closable:!1,transfer:!1},model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}},[a("Tabs",{attrs:{type:"card"}},[a("TabPane",{attrs:{label:"直属玩家列表"}},[a("Table",{ref:"selection",attrs:{size:"small",loading:t.gameLoading,border:"",columns:t.gameColumns,data:t.gameTableDatas,stripe:""}}),a("Page",{staticClass:"margin-top-10",attrs:{total:t.gTotal,"page-size-opts":[20,50,100],current:t.gPage,"class-name":"margin-top-10",size:"small","show-total":"","show-elevator":"","show-sizer":"","page-size":20},on:{"on-page-size-change":t.gpageSizeChange,"on-change":t.gpageChange}})],1)],1),a("div",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"footer"},slot:"footer"})],1)],1)},r=[],i=a("cebc"),n=(a("96cf"),a("3b8d")),o=a("2708"),g={mixins:[o["a"]],data:function(){return{queryLoading:!1,gameLoading:!1,modal_loading:!1,btTypes:["","","",""],loading:!1,query:{},datasTime:[],page:1,per_page:20,total:0,gPage:1,g_per_page:20,gTotal:0,showEdit:!1,showAdd:!1,addRow:{},editRow:{},columns:[],gameUserId:0,tableDatas:[],resetModal:!1,resetType:"",gameColumns:[],gameTableDatas:[]}},mounted:function(){},computed:{},methods:{init:function(){this.queryList()},sortChange:function(t){this.query.order_by=t.key+" "+t.order,this.queryList()},pickerChange:function(t,e){this.datasTime=t,this.clearDate()},clearDate:function(){this.btTypes=["","","",""]},changeDate:function(t){this.datasTime=[];var e=new Date,a=new Date;-1===t&&(this.btTypes=["","","","success"],e.setDate(e.getDate()-1),a.setDate(a.getDate()-1),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),1===t&&(this.btTypes=["success","","",""],this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),7===t&&(this.btTypes=["","success","",""],e.setDate(e.getDate()-6),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)]),30===t&&(this.btTypes=["","","success",""],e.setDate(e.getDate()-29),this.datasTime=[this.getDateFormate(e),this.getDateFormate(a)])},getDateFormate:function(t){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},pageChange:function(t){this.page=t,this.queryList()},pageSizeChange:function(t){this.per_page!==t&&(this.per_page=t,this.queryList())},gpageChange:function(t){this.gPage=t,this.getWjPromoList()},gpageSizeChange:function(t){this.g_per_page!==t&&(this.g_per_page=t,this.getWjPromoList())},queryList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a,s,r,n,o,g,h,l,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.queryLoading=!0,e=(this.page-1)*this.per_page,a=this.page*this.per_page,s=Object(i["a"])({minIndex:e,maxIndex:a>this.total&&this.total&&this.page>1?this.total:a},this.query,{start_time:this.datasTime.length>0&&this.datasTime[0]?this.datasTime[0]:"",end_time:this.datasTime.length>1&&this.datasTime[1]?this.datasTime[1]+" 23:59:59":""}),t.next=7,this.$store.dispatch("getWjPromoList",s);case 7:for(r=t.sent,n=this.handleResult(r),this.columns=[],o=n.arrTitles,g=n.arrKeys,h=0;h<g.length;h++)l={title:o[h],sortable:"custom",minWidth:120,align:"center",key:g[h]},"AgencyID"===l.key&&(l.render=function(t,e){return t("div",[t("a",{style:{color:"#2d8cf0"},on:{click:function(){c.showEditModal(e.index)}}},e.row.AgencyID)])}),this.columns.push(l);this.tableDatas=n.tableDatas,this.total=n.total,t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](0);case 19:this.queryLoading=!1;case 20:case"end":return t.stop()}},t,this,[[0,17]])}));function e(){return t.apply(this,arguments)}return e}(),toQuery:function(){this.page=1,this.queryList()},cancel:function(){this.showEdit=!1},showEditModal:function(t){this.showEdit=!0,this.editRow=Object(i["a"])({},this.tableDatas[t]),this.gameUserId=this.tableDatas[t].AgencyID,this.gPage=1,this.getWjPromoList()},getWjPromoList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a,s,r,i,n,o,g,h;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.gameLoading=!0,e=(this.gPage-1)*this.g_per_page,a=this.gPage*this.g_per_page,s={ParentId:this.gameUserId,minIndex:e,maxIndex:a>this.gTotal&&this.gTotal&&this.gPage>1?this.gTotal:a},t.next=7,this.$store.dispatch("getWJUserList",s);case 7:for(r=t.sent,i=this.handleResult(r),this.gameColumns=[],n=i.arrTitles,o=i.arrKeys,g=0;g<o.length;g++)h={title:n[g],sortable:"custom",minWidth:130,align:"center",key:o[g]},this.gameColumns.push(h);this.gameTableDatas=i.tableDatas,this.gTotal=i.total,t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](0);case 19:this.gameLoading=!1;case 20:case"end":return t.stop()}},t,this,[[0,17]])}));function e(){return t.apply(this,arguments)}return e}()}},h=g,l=(a("2f2e"),a("2877")),c=Object(l["a"])(h,s,r,!1,null,"34c446cd",null);e["default"]=c.exports},cb95:function(t,e,a){}}]);
//# sourceMappingURL=chunk-7f7a9c07.c1536cca.js.map