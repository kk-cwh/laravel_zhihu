(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6754daa0"],{"116e":function(e,t,r){"use strict";var a=r("d2f0"),s=r.n(a);s.a},2708:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a={methods:{handleResult:function(e,t){var r={arrKeys:[],arrTitles:[],tableDatas:[],total:0};if(e&&e.data){var a=e.data;if(a.arrTitles&&a.arrTitles.arrString&&a.arrTitles.arrString.length&&(r.arrTitles=a.arrTitles.arrString),a.arrKeys&&a.arrKeys.arrString&&a.arrKeys.arrString.length&&(r.arrKeys=a.arrKeys.arrString),r.arrKeys.length||(r.arrKeys=r.arrTitles),t||(t=r.arrKeys),a.arrDatas&&a.arrDatas.length)for(var s=0;s<a.arrDatas.length;s++){for(var i={},o=0;o<t.length;o++)i[t[o]]=a.arrDatas[s].arrString[o];r.tableDatas.push(i)}r.total=a.nTotal?a.nTotal:0}return r},IUDSuccess:function(e){return!(e&&e.data&&e.data.hasOwnProperty("result")&&1===e.data.result)},exportData:function(e,t){this.$refs[e].exportCsv({filename:t})}}}},b4e1:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{attrs:{"label-position":"right","label-width":70,inline:""}},[r("FormItem",{attrs:{label:"状态:"}},[r("Select",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:e.query.IsLocked,callback:function(t){e.$set(e.query,"IsLocked",t)},expression:"query.IsLocked"}},e._l(e.stateObj,function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t))])}),1)],1),r("FormItem",{attrs:{label:"游戏名:"}},[r("Input",{attrs:{clearable:"",type:"text",placeholder:"填写游戏名"},model:{value:e.query.AgentName,callback:function(t){e.$set(e.query,"AgentName",t)},expression:"query.AgentName"}})],1),r("FormItem",{attrs:{label:"游戏房间:"}},[r("Input",{attrs:{clearable:"",type:"text",placeholder:"填写游戏房间"},model:{value:e.query.Name,callback:function(t){e.$set(e.query,"Name",t)},expression:"query.Name"}})],1),r("FormItem",{attrs:{"label-width":1}},[r("Button",{attrs:{type:"primary",loading:e.queryLoading,icon:"ios-search"},on:{click:e.toQuery}},[e._v("查询")])],1)],1),r("Table",{ref:"selection",attrs:{loading:e.queryLoading,border:"",columns:e.columns,data:e.tableDatas,stripe:""},on:{"on-sort-change":e.sortChange}}),r("Page",{staticClass:"margin-top-10",attrs:{total:e.total,"page-size-opts":[20,50,100],current:e.page,"class-name":"margin-top-10",size:"small","show-total":"","show-elevator":"","show-sizer":"","page-size":20},on:{"on-page-size-change":e.pageSizeChange,"on-change":e.pageChange}}),r("Modal",{attrs:{title:"修改游戏房间设置",width:"780"},model:{value:e.showEdit,callback:function(t){e.showEdit=t},expression:"showEdit"}},[r("Form",{ref:"editFormValidate",attrs:{model:e.editRow,"label-position":"right","label-width":160,inline:""}},[r("FormItem",{attrs:{label:"pkId",prop:"pkId"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.editRow.pkId,callback:function(t){e.$set(e.editRow,"pkId",t)},expression:"editRow.pkId"}})],1),r("FormItem",{attrs:{label:"游戏名称",prop:"AgentName",rules:{required:!0,message:"请输入！",trigger:"blur"}}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.editRow.AgentName,callback:function(t){e.$set(e.editRow,"AgentName",t)},expression:"editRow.AgentName"}})],1),r("FormItem",{attrs:{label:"游戏房间",prop:"Name",rules:{required:!0,message:"请输入！",trigger:"blur"}}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.editRow.Name,callback:function(t){e.$set(e.editRow,"Name",t)},expression:"editRow.Name"}})],1),r("FormItem",{attrs:{label:"房间参数",prop:"GameParams"}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.GameParams,callback:function(t){e.$set(e.editRow,"GameParams",t)},expression:"editRow.GameParams"}})],1),r("FormItem",{attrs:{label:"房间门限",prop:"MinGold",rules:{required:!0,message:"请输入！",trigger:"blur"}}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.MinGold,callback:function(t){e.$set(e.editRow,"MinGold",t)},expression:"editRow.MinGold"}})],1),r("FormItem",{attrs:{label:"房间排序",prop:"OrderId",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.OrderId,callback:function(t){e.$set(e.editRow,"OrderId",t)},expression:"editRow.OrderId"}})],1),r("FormItem",{attrs:{label:"税率",prop:"TaxRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.TaxRate,callback:function(t){e.$set(e.editRow,"TaxRate",t)},expression:"editRow.TaxRate"}})],1),r("FormItem",{attrs:{label:"底分",prop:"BaseScore",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.BaseScore,callback:function(t){e.$set(e.editRow,"BaseScore",t)},expression:"editRow.BaseScore"}})],1),r("FormItem",{attrs:{label:"当前奖池"}},[r("Input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.editRow.currentWin,callback:function(t){e.$set(e.editRow,"currentWin",t)},expression:"editRow.currentWin"}})],1),r("FormItem",{attrs:{label:"当前奖池增量:",prop:"CurGoldPool",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},attrs:{min:0},model:{value:e.editRow.CurGoldPool,callback:function(t){e.$set(e.editRow,"CurGoldPool",t)},expression:"editRow.CurGoldPool"}})],1),r("FormItem",{attrs:{label:"最低奖池",prop:"MinGoldPool",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.MinGoldPool,callback:function(t){e.$set(e.editRow,"MinGoldPool",t)},expression:"editRow.MinGoldPool"}})],1),r("FormItem",{attrs:{label:"低量奖池",prop:"NormalGoldPool_L",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.NormalGoldPool_L,callback:function(t){e.$set(e.editRow,"NormalGoldPool_L",t)},expression:"editRow.NormalGoldPool_L"}})],1),r("FormItem",{attrs:{label:"高量奖池",prop:"NormalGoldPool_H",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.NormalGoldPool_H,callback:function(t){e.$set(e.editRow,"NormalGoldPool_H",t)},expression:"editRow.NormalGoldPool_H"}})],1),r("FormItem",{attrs:{label:"最大奖池",prop:"MaxGoldPool",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.MaxGoldPool,callback:function(t){e.$set(e.editRow,"MaxGoldPool",t)},expression:"editRow.MaxGoldPool"}})],1),r("FormItem",{attrs:{label:"暗税",prop:"ServiceRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.ServiceRate,callback:function(t){e.$set(e.editRow,"ServiceRate",t)},expression:"editRow.ServiceRate"}})],1),r("FormItem",{attrs:{label:"个人最大赢钱",prop:"maxWinLimit",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.maxWinLimit,callback:function(t){e.$set(e.editRow,"maxWinLimit",t)},expression:"editRow.maxWinLimit"}})],1),r("FormItem",{attrs:{label:"个人最大赢钱税收比例",prop:"maxWinRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.maxWinRate,callback:function(t){e.$set(e.editRow,"maxWinRate",t)},expression:"editRow.maxWinRate"}})],1),r("FormItem",{attrs:{label:"个人高量赢钱税收比例",prop:"minWinRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.minWinRate,callback:function(t){e.$set(e.editRow,"minWinRate",t)},expression:"editRow.minWinRate"}})],1),r("FormItem",{attrs:{label:"个人最大输钱税收比例",prop:"maxLoseRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.maxLoseRate,callback:function(t){e.$set(e.editRow,"maxLoseRate",t)},expression:"editRow.maxLoseRate"}})],1),r("FormItem",{attrs:{label:"个人低量输钱税收比例",prop:"minLoseRate",rules:[{required:!0,message:"请输入！",trigger:"blur"},{type:"number",message:"请输入合法的数字!",trigger:"blur",transform:function(e){return Number(e)}}]}},[r("Input",{staticStyle:{width:"200px"},model:{value:e.editRow.minLoseRate,callback:function(t){e.$set(e.editRow,"minLoseRate",t)},expression:"editRow.minLoseRate"}})],1),r("FormItem",{attrs:{label:"游戏标识",prop:"GameTypeId",rules:[{required:!0,message:"请选择！",trigger:"blur"}]}},[r("Select",{staticStyle:{width:"200px"},model:{value:e.editRow.GameTypeId,callback:function(t){e.$set(e.editRow,"GameTypeId",t)},expression:"editRow.GameTypeId"}},[r("Option",{attrs:{value:"10"}},[e._v("热")]),r("Option",{attrs:{value:"11"}},[e._v("新")]),r("Option",{attrs:{value:"110"}},[e._v("热+红点")]),r("Option",{attrs:{value:"111"}},[e._v("新+红点")]),r("Option",{attrs:{value:"0"}},[e._v("无")])],1)],1),r("FormItem",{attrs:{label:"是否禁用",prop:"IsLocked",rules:{required:!0,message:"请选择！",trigger:"blur"}}},[r("Select",{staticStyle:{width:"100px"},model:{value:e.editRow.IsLocked,callback:function(t){e.$set(e.editRow,"IsLocked",t)},expression:"editRow.IsLocked"}},[r("Option",{attrs:{value:"1"}},[e._v("禁用")]),r("Option",{attrs:{value:"0"}},[e._v("启用")])],1)],1)],1),r("div",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"default"},on:{click:e.cancel}},[e._v("取消")]),r("Button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.toEdit("editFormValidate")}}},[e._v("确定")])],1)],1)],1)},s=[],i=(r("7f7f"),r("cebc")),o=(r("96cf"),r("3b8d")),n=r("2708"),l={mixins:[n["a"]],data:function(){return{queryLoading:!1,btTypes:["","","",""],loading:!1,ntypeObj:{qq:"QQ",wx:"微信"},stateObj:{1:"禁用",0:"启用"},query:{ntype:""},datasTime:[],page:1,per_page:20,total:0,showEdit:!1,showAdd:!1,addRow:{ntype:"qq"},editRow:{},columns:[],tableDatas:[],ruleValidate:{},hongDiangObj:{0:"无",10:"热",11:"新",110:"热+红点",111:"新+红点"}}},mounted:function(){},computed:{},methods:{init:function(){this.queryList()},sortChange:function(e){this.query.order_by=e.key+" "+e.order,this.queryList()},pickerChange:function(e,t){this.datasTime=e,this.clearDate()},clearDate:function(){this.btTypes=["","","",""]},changeDate:function(e){this.datasTime=[];var t=new Date,r=new Date;-1===e&&(this.btTypes=["","","","success"],t.setDate(t.getDate()-1),r.setDate(r.getDate()-1),this.datasTime=[this.getDateFormate(t),this.getDateFormate(r)]),1===e&&(this.btTypes=["success","","",""],this.datasTime=[this.getDateFormate(t),this.getDateFormate(r)]),7===e&&(this.btTypes=["","success","",""],t.setDate(t.getDate()-6),this.datasTime=[this.getDateFormate(t),this.getDateFormate(r)]),30===e&&(this.btTypes=["","","success",""],t.setDate(t.getDate()-29),this.datasTime=[this.getDateFormate(t),this.getDateFormate(r)])},getDateFormate:function(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()},pageChange:function(e){this.page=e,this.queryList()},pageSizeChange:function(e){this.per_page!==e&&(this.per_page=e,this.queryList())},queryList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,a,s,o,n,l,u,d,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.queryLoading=!0,t=(this.page-1)*this.per_page,r=this.page*this.per_page,a=Object(i["a"])({page:this.page,per_page:this.per_page,minIndex:t,maxIndex:r>this.total&&this.total&&this.page>1?this.total:r},this.query,{start_time:this.datasTime.length>0&&this.datasTime[0]?this.datasTime[0]:"",end_time:this.datasTime.length>1&&this.datasTime[1]?this.datasTime[1]+" 23:59:59":""}),e.next=7,this.$store.dispatch("getGameRoomSetting",a);case 7:for(s=e.sent,o=this.handleResult(s),this.columns=[],n=o.arrTitles,l=o.arrKeys,u=0;u<l.length;u++)d={title:n[u],sortable:"custom",minWidth:120,align:"center",key:l[u]},"GameParams"===d.key&&(d.ellipsis=!0,d.render=function(e,t){return e("Poptip",{props:{trigger:"hover",content:t.row.GameParams}},[e("div",{style:{}},t.row.GameParams)])}),"IsLocked"===d.key&&(d.render=function(e,t){return e("span",c.stateObj[t.row.IsLocked])}),"GameTypeId"===d.key&&(d.render=function(e,t){return e("span",c.hongDiangObj.hasOwnProperty(t.row.GameTypeId)?c.hongDiangObj[t.row.GameTypeId]:"无")}),this.columns.push(d);this.columns.push({title:"操作",key:"action",fixed:"right",align:"center",width:220,render:function(e,t){return e("div",[e("Button",{props:{type:"primary",icon:"compose",size:"small"},style:{marginRight:"2px"},on:{click:function(){c.showEditModal(t.index)}}},"编辑"),e("Poptip",{props:{transfer:!0,confirm:!0,title:"您确认要开服吗？"},style:{marginRight:"2px",textAlign:"left"},on:{"on-ok":function(){c.toChangeStatus(t.index,"1")},"on-cancel":function(){}}},[e("Button",{props:{type:"success",icon:"checkmark-circled",size:"small"}},"开服")]),e("Poptip",{props:{transfer:!0,confirm:!0,title:"您确认要停服吗？"},style:{textAlign:"left"},on:{"on-ok":function(){c.toChangeStatus(t.index,"0")},"on-cancel":function(){}}},[e("Button",{props:{type:"error",icon:"close-circled",size:"small"}},"停服")])])}}),this.tableDatas=o.tableDatas,this.total=o.total,e.next=20;break;case 18:e.prev=18,e.t0=e["catch"](0);case 20:this.queryLoading=!1;case 21:case"end":return e.stop()}},e,this,[[0,18]])}));function t(){return e.apply(this,arguments)}return t}(),toQuery:function(){this.page=1,this.queryList()},handleReset:function(e){this.$refs[e].resetFields()},cancel:function(){this.showEdit=!1,this.showAdd=!1},showEditModal:function(e){this.showEdit=!0,this.editRow=Object(i["a"])({},this.tableDatas[e]),this.editRow.currentWin=this.editRow.CurGoldPool,this.editRow.CurGoldPool="0"},toEdit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.saveEdit(t.editRow)})},saveEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,this.$store.dispatch("updateGameRoomSetting",t);case 4:r=e.sent,r.data&&r.data.hasOwnProperty("result")&&0!==r.data.result?this.$Message.error(r.data.szresult):(this.showEdit=!1,this.$Message.success("修改成功!"),this.toQuery()),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:this.loading=!1;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),toDelete:function(e){this.delRow=Object(i["a"])({},this.tableDatas[e]);var t={AccountName:this.delRow.AccountName};this.deleteRow(t)},deleteRow:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,this.$store.dispatch("deleteMerchantSetting",t);case 4:r=e.sent,r.data&&r.data.hasOwnProperty("result")&&0!==r.data.result?this.$Message.error(r.data.szresult):(this.showEdit=!1,this.$Message.success("删除成功!"),this.toQuery()),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:this.loading=!1;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),toChangeStatus:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,r){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={AgentName:this.tableDatas[t].AgentName,Name:this.tableDatas[t].Name,Status:r},e.next=4,this.$store.dispatch("updateGameRoomStatus",a);case 4:s=e.sent,s.data&&s.data.hasOwnProperty("result")&&0!==s.data.result?this.$Message.error(s.data.szresult):(this.showEdit=!1,this.$Message.success("操作成功!")),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t,r){return e.apply(this,arguments)}return t}()}},u=l,d=(r("116e"),r("2877")),c=Object(d["a"])(u,a,s,!1,null,"33dc0b4a",null);t["default"]=c.exports},d2f0:function(e,t,r){}}]);
//# sourceMappingURL=chunk-6754daa0.4de8c8ad.js.map